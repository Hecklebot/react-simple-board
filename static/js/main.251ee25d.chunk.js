(this["webpackJsonpreact-simple-board"]=this["webpackJsonpreact-simple-board"]||[]).push([[0],{193:function(e,t,n){e.exports=n(376)},198:function(e,t,n){},200:function(e,t,n){},376:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(4),r=n.n(c),i=n(188),l=(n(198),n(31)),s=n.n(l),u=(n(200),n(30)),d=n(378),p=n(380),b=n(379),f=n(381),v=function(e){var t,n=e.id,a=e.key,c=e.posts,r=e.visible,i=e.secondModalVisible,l=e.showModal,s=e.showSecondModal,v=e.closeModal,m=e.addPost,y=e.updatePost,O=e.deletePost,h=e.inputTitle,k=e.inputContent,E=e.title,T=e.content,j=[{title:"\ubc88\ud638",dataIndex:"id",key:"id"},{title:"\uc81c\ubaa9",dataIndex:"title",key:"title"},{title:"\uc791\uc131\uc77c",dataIndex:"createdDate",key:"createdDate"},{title:"",dataIndex:"",key:"",render:function(){return o.a.createElement(u.a,{type:"danger",onClick:function(){return O(t)}},"Delete")}},{title:"",dataIndex:"",key:"",render:function(e,t){var n=t.key,a=t.title,c=t.content;return o.a.createElement(u.a,{type:"primary",onClick:function(){return s({key:n,title:a,content:c})}},"Update")}}],g={id:n,title:E,content:T};return o.a.createElement("div",{className:"boardList"},o.a.createElement(d.a,{dataSource:c,columns:j,expandedRowRender:function(e){return o.a.createElement("p",null,e.content)},pagination:{pageSize:20},onRow:function(e){return{onMouseEnter:function(){t=e.key},onMouseLeave:function(){t=e.key}}}}),o.a.createElement(u.a,{type:"primary",onClick:l},"\uc0c8 \uae00"),o.a.createElement(p.a,{title:o.a.createElement(b.a.Title,{level:2},"Create post"),visible:r,onOk:function(){return m(g)},onCancel:v,okText:"\uc791\uc131",cancelText:"\ucde8\uc18c"},o.a.createElement(b.a.Title,{level:4},"Title"),o.a.createElement(f.a,{value:E,placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694.",onChange:function(e){return h(e.target.value,t)}}),o.a.createElement(b.a.Title,{level:4},"Content"),o.a.createElement(f.a.TextArea,{value:T,rows:6,placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694.",onChange:function(e){return k(e.target.value,t)}})),o.a.createElement(p.a,{title:o.a.createElement(b.a.Title,{level:2},"Update post"),visible:i,onOk:function(){return y({key:a,title:E,content:T})},onCancel:v,okText:"\uc218\uc815",cancelText:"\ucde8\uc18c"},o.a.createElement(b.a.Title,{level:4},"Title"),o.a.createElement(f.a,{value:E,placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694.",onChange:function(e){return h(e.target.value,a)}}),o.a.createElement(b.a.Title,{level:4},"Content"),o.a.createElement(f.a.TextArea,{value:T,rows:6,placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694.",onChange:function(e){return k(e.target.value,t)}})))},m=n(96),y=(n(358),n(382)),O="APP_INIT",h="ADD_POST",k="UPDATE_POST",E="DELETE_POST",T="SHOW_MODAL",j="SHOW_SECOND_MODAL",g="CLOSE_MODAL",w="INPUT_TITLE",x="INPUT_CONTENT",M=Object(y.a)(O,(function(e){return e})),D=Object(y.a)(h,(function(e){return e})),P=Object(y.a)(k,(function(e){return e})),S=Object(y.a)(E,(function(e){return e})),C=Object(y.a)(T),I=Object(y.a)(j),_=Object(y.a)(g),A=Object(y.a)(w,(function(e){return e})),L=Object(y.a)(x,(function(e){return e})),N=n(54),V=n.n(N),U=Object(m.b)((function(e){var t=e.BoardReducer;return{id:t.id,isLoading:t.isLoading,posts:t.posts,title:t.title,content:t.content,visible:t.visible,secondModalVisible:t.secondModalVisible}}),(function(e){return{appInit:function(t){return e(M(t))},addPost:function(t){return e(D(t))},updatePost:function(t){return e(P(t))},deletePost:function(t){return e(S(t))},showModal:function(){return e(C())},showSecondModal:function(t){console.debug(t),e(I(t))},closeModal:function(){return e(_())},inputTitle:function(t){e(A(t))},inputContent:function(t){return e(L(t))}}}))((function(e){var t=e.id,n=e.key,c=e.appInit,r=e.inputTitle,i=e.inputContent,l=e.posts,u=e.visible,d=e.secondModalVisible,p=e.showModal,f=e.showSecondModal,m=e.closeModal,y=e.addPost,O=e.updatePost,h=e.deletePost,k=e.title,E=e.content;return Object(a.useEffect)((function(){!function(){var e,t;s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(V.a.get("https://react-simple-board.firebaseio.com/post.json"));case 2:e=n.sent,(t=e.data)&&c(Object.values(t));case 6:case"end":return n.stop()}}))}()}),[c]),o.a.createElement("div",{className:"App"},o.a.createElement(b.a.Title,{level:1},"Simple Board"),o.a.createElement(v,{id:t,key:n,posts:l,visible:u,secondModalVisible:d,showModal:p,showSecondModal:f,closeModal:m,addPost:y,updatePost:O,deletePost:h,inputTitle:r,inputContent:i,title:k,content:E}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=n(36),R=n(34),W={key:0,id:1,visible:!1,secondModalVisible:!1,title:"",content:"",posts:[]};var H,J=Object(B.c)({BoardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(R.a)({},e,{posts:e.posts.concat(t.payload)});case h:return console.log(t.payload),Object(R.a)({},e,{posts:e.posts.concat({id:0===e.posts.length?1:e.posts[e.posts.length-1].id+1,key:(new Date).getTime(),title:e.title,content:e.content,createdDate:(new Date).toString().substring(3,24)}),id:e.id+1,title:"",content:"",visible:!1});case k:var n=e.posts.findIndex((function(t){return t.key===e.key}));return Object(R.a)({},e,{posts:e.posts.fill({id:e.posts[n].id,key:e.posts[n].key,title:t.payload.title,content:t.payload.content,createdDate:e.posts[n].createdDate},n,n+1),secondModalVisible:!1,title:"",content:""});case E:return Object(R.a)({},e,{posts:e.posts.filter((function(e){return e.key!==parseInt(t.payload)}))});case T:return console.log(T),Object(R.a)({},e,{visible:!0});case j:return Object(R.a)({},e,{key:t.payload.key,secondModalVisible:!0,title:t.payload.title,content:t.payload.content});case g:return Object(R.a)({},e,{visible:!1,secondModalVisible:!1,title:"",content:""});case w:return Object(R.a)({},e,{title:t.payload});case x:return Object(R.a)({},e,{content:t.payload});default:return Object(R.a)({},e)}}}),z=n(189),$=n(72),q=s.a.mark(Q),F=s.a.mark(X),G=s.a.mark(Y),K=s.a.mark(ee);function Q(e){var t,n,a;return s.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,V.a.get("https://react-simple-board.firebaseio.com/post.json");case 2:return t=o.sent,n=t.data,a={id:n?Object.values(n)[Object.values(n).length-1].id+1:1,key:(new Date).getTime(),title:e.payload.title,content:e.payload.content,createdDate:(new Date).toString().substring(3,24)},o.next=7,V.a.put("https://react-simple-board.firebaseio.com/post/".concat(a.key,".json"),a);case 7:case"end":return o.stop()}}),q)}function X(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.debug(H,e),t.next=3,V.a.patch("https://react-simple-board.firebaseio.com/post/".concat(H,".json"),{title:e.payload.title,content:e.payload.content});case 3:case"end":return t.stop()}}),F)}function Y(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,V.a.delete("https://react-simple-board.firebaseio.com/post/".concat(e.payload,".json"));case 3:case"end":return t.stop()}}),G)}function Z(e){console.log(e.payload.key),H=e.payload.key}function ee(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.a)("ADD_POST",Q);case 2:return e.next=4,Object($.a)("DELETE_POST",Y);case 4:return e.next=6,Object($.a)("UPDATE_POST",X);case 6:return e.next=8,Object($.a)("SHOW_SECOND_MODAL",Z);case 8:case"end":return e.stop()}}),K)}var te=Object(z.a)(),ne=Object(B.e)(J,Object(B.a)(te));te.run(ee),r.a.render(o.a.createElement(i.a,null,o.a.createElement(m.a,{store:ne},o.a.createElement(U,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[193,1,2]]]);
//# sourceMappingURL=main.251ee25d.chunk.js.map